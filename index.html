 <!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Fitness Hub â€“ Advanced</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<script src="https://cdn.tailwindcss.com"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<style>
body{transition:.4s}
.dark{background:#0f172a;color:#fff}
.light{background:#f8fafc;color:#000}
.card{background:rgba(0,0,0,.6);border-radius:12px}
</style>
</head>

<body class="dark">

<!-- NAV -->
<nav class="flex justify-between p-4 bg-black/70">
<h1 class="text-xl font-bold">Fitness Hub</h1>
<div>
<button onclick="toggleTheme()" class="border px-3 py-1 mr-3">Theme</button>
<button id="logoutBtn" onclick="logout()" class="hidden bg-red-500 px-3 py-1 rounded">Logout</button>
</div>
</nav>

<!-- LOGIN -->
<section id="loginSection" class="flex justify-center mt-12">
<div class="card p-6 w-80">
<h2 class="text-center mb-4">Login</h2>
<input id="email" class="w-full p-2 mb-3 text-black rounded" placeholder="Email">
<input id="password" type="password" class="w-full p-2 mb-3 text-black rounded" placeholder="Password">
<button onclick="login()" class="bg-blue-500 w-full p-2 rounded">Login</button>
</div>
</section>

<!-- USER DASHBOARD -->
<section id="userDashboard" class="hidden p-6 max-w-lg mx-auto">

<h2 class="text-2xl text-center mb-4">Health Dashboard</h2>

<!-- HEALTH SUMMARY -->
<div id="healthSummary" class="bg-black/60 p-4 rounded mb-4 text-center"></div>

<!-- BMI + DIET -->
<input id="weight" type="number" placeholder="Weight (kg)" class="w-full p-2 mb-2 text-black rounded">
<input id="height" type="number" placeholder="Height (cm)" class="w-full p-2 mb-2 text-black rounded">

<select id="goal" class="w-full p-2 mb-2 text-black rounded">
<option value="loss">Weight Loss</option>
<option value="maintain">Maintain</option>
<option value="gain">Muscle Gain</option>
</select>
<button onclick="calculateDiet()" class="bg-green-500 w-full p-2 rounded">Analyze Health</button>

<p id="dietResult" class="text-center mt-2 font-semibold"></p>
<p id="bmiResult" class="text-center"></p>

<hr class="my-6">

<!-- WATER -->
<h3 class="text-lg text-center mb-2">ğŸ’§ Water Intake</h3>
<div class="bg-black/60 p-4 rounded text-center">
<button onclick="addWater(250)" class="bg-blue-500 px-4 py-2 rounded">+250ml</button>
<button onclick="addWater(500)" class="bg-blue-600 px-4 py-2 rounded ml-2">+500ml</button>
<p id="waterStatus" class="mt-2"></p>
<div class="bg-gray-700 h-3 rounded mt-2">
<div id="waterBar" class="bg-blue-400 h-3 rounded"></div>
</div>
</div>

<hr class="my-6">

<!-- WEEKLY WORKOUT -->
<h3 class="text-lg text-center mb-2">ğŸ‹ï¸ Weekly Workout Plan</h3>
<button onclick="generateWeeklyWorkout()" class="bg-purple-500 w-full p-2 rounded">
Generate Weekly Plan
</button>
<ul id="workoutList" class="mt-3 space-y-2"></ul>

</section>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
import { getAuth, signInWithEmailAndPassword, signOut, onAuthStateChanged }
from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";
import { getFirestore, doc, getDoc }
from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

const firebaseConfig={
 apiKey:"YOUR_API_KEY",
 authDomain:"YOUR_PROJECT.firebaseapp.com",
 projectId:"YOUR_PROJECT_ID"
};

const app=initializeApp(firebaseConfig);
const auth=getAuth(app);
const db=getFirestore(app);

/* AUTH */
window.login=async()=>{
 const c=await signInWithEmailAndPassword(auth,email.value,password.value);
 showDashboard();
}
window.logout=async()=>{await signOut(auth);location.reload();}
onAuthStateChanged(auth,u=>{if(u)showDashboard()});
function showDashboard(){
 loginSection.classList.add("hidden");
 userDashboard.classList.remove("hidden");
 logoutBtn.classList.remove("hidden");
}

/* BMI + HEALTH */
window.calculateDiet=()=>{
 const w=+weight.value,h=+height.value/100;
 if(w<=0||h<=0)return alert("Invalid input");
 const bmi=(w/(h*h)).toFixed(1);
 let category=bmi<18.5?"Underweight":bmi<25?"Normal":bmi<30?"Overweight":"Obese";
 bmiResult.textContent=`BMI: ${bmi} (${category})`;
 dietResult.textContent=`Recommended calories: ${Math.max(1200,w*24)} kcal`;
 healthSummary.innerHTML=`<b>Health Status:</b> ${category}<br>Stay hydrated and follow workout plan.`;
}

/* WATER â€“ DATE BASED */
const today=new Date().toDateString();
let waterData=JSON.parse(localStorage.getItem("waterData")||"{}");
waterData[today]=waterData[today]||0;
const GOAL=3000;

window.addWater=a=>{
 waterData[today]+=a;
 localStorage.setItem("waterData",JSON.stringify(waterData));
 updateWater();
}
function updateWater(){
 const p=Math.min(waterData[today]/GOAL*100,100);
 waterBar.style.width=p+"%";
 waterStatus.textContent=`${waterData[today]} ml / 3000 ml`;
}
updateWater();

/* WEEKLY WORKOUT */
window.generateWeeklyWorkout=()=>{
 const days=[
  "Monday â€“ Cardio",
  "Tuesday â€“ Upper Body",
  "Wednesday â€“ Lower Body",
  "Thursday â€“ Core",
  "Friday â€“ Full Body",
  "Saturday â€“ Yoga",
  "Sunday â€“ Rest Day"
 ];
 workoutList.innerHTML="";
 days.forEach(d=>{
  workoutList.innerHTML+=`
  <li class="bg-black/60 p-3 rounded">
   <input type="checkbox"> ${d}
  </li>`;
 });
}

/* THEME */
function applyTheme(t){document.body.className=t;localStorage.setItem("theme",t)}
window.toggleTheme=()=>applyTheme(document.body.classList.contains("dark")?"light":"dark");
applyTheme(localStorage.getItem("theme")||"dark");
</script>

</body>
</html>


